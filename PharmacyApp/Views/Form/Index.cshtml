@model PharmacyApp.ViewModels.FeedBackFormViewModel



<div>
    <form asp-action="CreateForm" asp-controller="Form" method="post">
        <div class="form-group mb-3">
            <label asp-for="Title" class="form-label">Title</label>
            <input asp-for="@Model.Title" asp-validation-for="Description" row="5" class="form-control" placeholder="Enter the title" />
            <span asp-validation-for="Title" class="text-danger"></span>
        </div>
        <div class="form-group mb-3">
            <label asp-for="Description" class="form-label">Description</label>
            <input asp-for="@Model.Description" class="form-control" placeholder="Enter what you did" />
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>

        <button type="submit">
            Submit
        </button>
    </form>
</div>


@*

<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
            <tr >

                <th>Title</th>
                <th>Content</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var form in Model)
            {
                <tr data-id="@form.Id">
                    <td class="title">@form.Title</td>
                    <td class="desc">@form.Description</td>
                    
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="enableEdit(@form.Id)">Edit</button>
                        <button class="btn btn-sm btn-success d-none" onclick="saveEdit(@form.Id)">Save</button>
                        <button class="btn btn-sm btn-danger" onclick="DeleteForm(@form.Id)">Delete</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section Scripts
{
    <script>


        function DeleteForm(FormId) 
        {
            // Confirm the delete action
            if (!confirm("Are you sure you want to delete this form?")) {
                return; // If the user cancels, stop the process.
            }

            fetch(`/Form/DeleteForm?Id=${FormId}`).then(response => response.text()).
            then(html => 
                {
                    // Look for the row with the specific data-id attribute
                    const row = $("tr[data-id='" + FormId + "']");  

                    if (row.length) 
                    {  
                        row.remove();  
                        alert("Form deleted successfully.");
                    } 
                    else 
                    {
                        alert("Row not found in the table.");
                    }
                })
            .catch(error => 
            {
                console.error('Error:', error);
                alert('An error occurred while deleting the form.');
            });
        }

function deleteForm(id)
{
    if(confirm("u sure u want to delete"))
    {
        //url
        //type (delete)
        // success = viusally delete and back end delete
        //fail = error msg

        $.ajax({
            url:"@url.Action("DeleteForm","Form")/ id,
            type: "delete",
            suceess: fuction(result)
            {
               $("#" id).remove
            },
            error: function(err) 
            {
                alert("An error occured")
            }
            })
    }


}

  




    </script>
}
*@

